(this["webpackJsonpxml-front"]=this["webpackJsonpxml-front"]||[]).push([[0],{103:function(t,e,n){},104:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},108:function(t,e,n){},193:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),s=n(2),i=n.n(s),c=(n(103),n(65)),r=n(66),l=n(96),h=n(92),d=(n(104),n(198)),u=n(196),m=n(52),p=n(86),f=n(197),g=n(67),w=n.n(g),v=(n(108),n(109),function(t){Object(l.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={data:[],nowData:{name:"",content:""},xpath:"",result:"",loading:!1,hasMore:!0},t.fetchData=function(t){fetch("http://localhost:3000/XMLoprate/15/1",{method:"get",headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){console.log(e),e.data.unshift({name:"add a new xml doc",content:""}),t(e.data)}))},t.selectXML=function(e){console.log(e),t.setState({nowData:e})},t.insert=function(){fetch("http://localhost:3000/XMLoprate",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(t.state.nowData)}).then((function(t){return t.json()})).then((function(e){console.log(e),"ok"==e.msg?(d.a.success("\u6210\u529f"),t.componentDidMount()):d.a.warning(e.msg)}))},t.update=function(){fetch("http://localhost:3000/XMLoprate/"+t.state.nowData._id,{method:"put",headers:{"content-type":"application/json"},body:JSON.stringify(t.state.nowData)}).then((function(t){return t.json()})).then((function(e){console.log(e),"ok"==e.msg?(d.a.success("\u6210\u529f"),t.componentDidMount()):d.a.warning(e.msg)}))},t.submit=function(){t.state.nowData._id?t.update():t.insert()},t.remove=function(e){fetch("http://localhost:3000/XMLoprate/"+e,{method:"delete",headers:{"content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){console.log(e),"ok"==e.msg?(d.a.success("\u6210\u529f"),t.componentDidMount()):d.a.warning(e.msg)}))},t.search=function(e){t.state.nowData._id?fetch("http://localhost:3000/queryByXpath/"+t.state.nowData._id,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify({xpath:e})}).then((function(t){return t.json()})).then((function(e){console.log(e),200==e.code?t.setState({result:e.data}):d.a.warning(e.msg)})):d.a.info("\u5148\u9009\u62e9\u4e00\u4e2a\u6587\u6863")},t.handleInput=function(e){if("xpath"!=e.target.name){var n=t.state.nowData;n[e.target.name]=e.target.value,t.setState({nowData:n})}else t.setState({xpath:e.target.value})},t.handleInfiniteOnLoad=function(){var e=t.state.data;if(t.setState({loading:!0}),e.length>14)return d.a.warning("Infinite List loaded all"),void t.setState({hasMore:!1,loading:!1});t.fetchData((function(n){e=e.concat(n.results),t.setState({data:e,loading:!1})}))},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.fetchData((function(e){t.setState({data:e,nowData:e[0]})}))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"container"},o.a.createElement(w.a,{initialLoad:!1,pageStart:0,loadMore:this.handleInfiniteOnLoad,hasMore:!this.state.loading&&this.state.hasMore,useWindow:!1},o.a.createElement(u.b,{className:"list",dataSource:this.state.data,renderItem:function(e){return o.a.createElement(u.b.Item,{key:e._id,className:"item",onClick:t.selectXML.bind(t,e)},o.a.createElement("div",null,e.name),e._id?o.a.createElement(m.a,{danger:!0,onClick:t.remove.bind(t,e._id),type:"link",size:"small",style:{float:"right"}},"\u5220\u9664"):"")}},this.state.loading&&this.state.hasMore&&o.a.createElement("div",{className:"demo-loading-container"},o.a.createElement(p.a,null)))),o.a.createElement("div",{className:"content"},o.a.createElement(f.a,{value:this.state.nowData.name,size:"large",name:"name",placeholder:"input the document name",onChange:this.handleInput}),o.a.createElement(f.a.TextArea,{value:this.state.nowData.content,rows:10,name:"content",onChange:this.handleInput,placeholder:"input the document content"}),o.a.createElement(m.a,{type:"primary",size:"large",style:{margin:"10px 41%",width:"14%"},onClick:this.submit},"\u63d0\u4ea4"),"xpath:",o.a.createElement(f.a.Search,{onSearch:this.search,size:"large",placeholder:"input xpath",enterButton:"Select"}),"results:",o.a.createElement(f.a.TextArea,{value:this.state.result,rows:7,readOnly:!0})))}}]),n}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},98:function(t,e,n){t.exports=n(193)}},[[98,1,2]]]);
//# sourceMappingURL=main.8d4bab64.chunk.js.map